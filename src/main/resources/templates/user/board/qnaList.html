<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
                xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
                layout:decorate="~{user/layout/default}">
                
<head>
	<title>1:1문의</title>
		<link rel="stylesheet" th:href="@{/user/css/list-style.css}">
</head>

<th:block layout:fragment="customCss"></th:block>

<th:block layout:fragment="customPageSection">
	<!-- 여기에 메인 컨텐츠가 삽입됩니다. -->
	<div class="main-wrapper pages">

	<!-- body -->
	<div class="row">
		<div class="d-flex align-items-start">
		<div class="dropdown mb-5">
			<button class="btn btn-primary dropdown-toggle" type="button"
				id="dropdownMenuButton" data-bs-toggle="dropdown">1:1문의</button>
			<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
				<li><a class="dropdown-item" href="javascript:void(0)">계정 관리</a></li>
				<li><a class="dropdown-item" href="javascript:void(0)">이용 문의</a></li>
				<li><a class="dropdown-item" href="javascript:void(0)">건의 / 제안</a></li>
				<li><a class="dropdown-item" href="javascript:void(0)">결제 / 환불</a></li>
			</ul>
		</div>
	</div>
	
	
	<div class="col-sm-12">
		<div class="table-responsive overflow-hidden">

			<table class="table table-hover table-bordered">
				<colgroup>
					<col class="col-sm-1" />
					<col class="col-sm-7" />
					<col class="col-sm-2" />
					<col class="col-sm-2" />
				</colgroup>
				<thead>
					<tr class="active" style="text-align: center">
						<th>번호</th>
						<th>제목</th>
						<th>날짜</th>
						<th>진행상황</th>
					</tr>
				</thead>
				<tbody>

							<!-- 역순으로 순회 -->
							<tr th:each="l, i : ${qnaList}" th:order="${-i.count}">
								<!-- 숫자 형태로 번호 출력 -->
								<td class="text-center" th:text="${#lists.size(qnaList) - i.count + 1}"></td>
								<td>
									<span class="badge bg-warning">N</span>
									<!-- QNA 카테고리 뱃지 -->
									<i class="badge rounded-pill bg-primary badge-cate" th:text="${l.faqCate.faqCateType}"></i>
									<!-- QNA 제목 --> 
									<a th:href="@{/qna/qnaDetail(qnaNum=${l.qnaNum})}" th:text="${l.qnaTitle}"> </a></td>
								<td class="text-center" th:text="${#strings.substring(l.qnaRegDate, 0, 10)}"></td>
								<td class="text-center" th:text="${l.qnaProCate}"></td>
							</tr>


							<!-- <tr>
						<td class="noticeNum noticeCenter" style="text-align: center">1</td>
						<td><i class="badge rounded-pill bg-primary noticeCenter"
							style="text-align: center">계정 관리</i><a href="">회원탈퇴는 어떻게 하나요?</a></td>
						<td class="noticeCenter" style="text-align: center">2024-04-29</td>
						<td class="noticeCenter" style="text-align: center">접수</td>
					</tr>
					<tr>
						<td class="noticeNum noticeCenter" style="text-align: center">2</td>
						<td><i class="badge rounded-pill bg-primary noticeCenter"
							style="text-align: center">계정 관리</i><a href="">아이디, 비밀번호를 분실했어요!</a></td>
						<td class="noticeCenter" style="text-align: center">2024-04-29</td>
						<td class="noticeCenter" style="text-align: center">답변완료</td>
					</tr>
					<tr>
						<td class="noticeNum noticeCenter" style="text-align: center">3</td>
						<td><i class="badge rounded-pill bg-primary noticeCenter"
							style="text-align: center">이용 문의</i><a href="">문의하는 방법을 알려주세요</a></td>
						<td class="noticeCenter" style="text-align: center">2024-04-29</td>
						<td class="noticeCenter" style="text-align: center">답변완료</td>
					</tr>
					<tr>
						<td class="noticeNum noticeCenter" style="text-align: center">4</td>
						<td><i class="badge rounded-pill bg-primary noticeCenter"
							style="text-align: center">결제 / 환불</i><a href="">구매를 취소하고 싶어요</a></td>
						<td class="noticeCenter" style="text-align: center">2024-04-29</td>
						<td class="noticeCenter" style="text-align: center">검토중</td>
					</tr>  -->
					
				</tbody>
			</table>
			<div class="row">
				<div class="col-12"
					style="text-align: right;">
					<!-- 글쓰기 버튼을 클릭하면 /qna/qnaWrite 페이지로 이동 -->
					<a th:href="@{/qna/qnaWrite}"><button type="button" class="btn btn-outline-primary btn-sm">글쓰기</button></a>
				</div>
			</div>
		</div>
	</div>
</div>

		<!-- 페이징 -->
		<section class="pt-5 pt-md-7">
			<div class="container">
				<nav aria-label="Page navigation">
					<ul class="pagination justify-content-center align-items-center">
						<li class="page-item"><a class="page-link"
							href="javascript:void(0)" tabindex="-1"> <i aria-hidden="true"></i>
								◀ 이전
						</a></li>
	
						<li class="page-item"><a class="page-link active"
							href="javascript:void(0)">1</a></li>
	
						<li class="page-item"><a class="page-link"
							href="javascript:void(0)">2</a></li>
	
						<li class="page-item"><a class="page-link"
							href="javascript:void(0)">3</a></li>
	
						<li class="page-item"><a class="page-link"
							href="javascript:void(0)">4</a></li>
	
						<li class="page-item"><a class="page-link"
							href="javascript:void(0)">5</a></li>
	
						<li class="page-item"><a class="page-link"
							href="javascript:void(0)">다음 ▶ <i aria-hidden="true"></i>
						</a></li>
					</ul>
				</nav>
			</div>
		</section>
	</div>	
	
	</th:block>
	
	<th:block layout:fragment="customJsFIle"></th:block>

	<th:block layout:fragment="customJs">
		<script>
		
	     // 선택된 드롭다운 메뉴에 해당하는 1:1문의 조회
        document.addEventListener("DOMContentLoaded", function() {
            const menuItems = document.querySelectorAll('.dropdown-item');

            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    const selectedMenu = this.textContent;
                    const tbody = document.querySelector('tbody');
                    const rows = tbody.querySelectorAll('tr');

                    rows.forEach(row => row.style.display = 'none');

                    rows.forEach(row => {
                        const title = row.querySelector('td:nth-child(2)').textContent;
                        if (title.includes(selectedMenu)) {
                            row.style.display = '';
                        }
                    });
                });
            });
        });

		</script>
	
	
	</th:block>
</html>