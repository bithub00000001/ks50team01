<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
                xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
                layout:decorate="~{user/layout/default}">

<head>
	<title>자주찾는 질문</title>
	<style>
	table thead tr {
		height: 50px !important;
		font-size: 18px;
		font-weight: 900;
	}
	
	table tbody tr {
		height: 50px !important;
		font-size: 18px;
	}
	</style>
	
</head>



	
	<th:block layout:fragment="customPageSection">
		<!-- 여기에 메인 컨텐츠가 삽입됩니다. -->
		<div class="main-wrapper pages">
	
			<!-- 드롭다운 메뉴 -->
			<div class="d-flex align-items-start">
				<div class="dropdown">
					<button class="btn btn-primary dropdown-toggle" type="button"
						id="dropdownMenuButton" data-bs-toggle="dropdown">자주찾는 질문</button>
					<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
						<li><a class="dropdown-item" href="javascript:void(0)">계정관리</a></li>
						<li><a class="dropdown-item" href="javascript:void(0)">이용문의</a></li>
						<li><a class="dropdown-item" href="javascript:void(0)">건의 및 제안</a></li>
						<li><a class="dropdown-item" href="javascript:void(0)">결제 및 환불</a></li>
					</ul>
				</div>
			</div> 


		<!-- 드롭다운 메뉴 -->
			<!-- <div class="dropdown">
				<button class="btn btn-primary dropdown-toggle" type="button"
					id="dropdownMenuButton" data-bs-toggle="dropdown">자주찾는 질문</button>
				<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
					<!-- Thymeleaf를 사용하여 백엔드에서 받아온 카테고리 데이터를 반복하여 드롭다운 아이템으로 렌더링 -->
					<!-- <th:block th:each="l : ${faqList}">
						<li><a class="dropdown-item" href="javascript:void(0)"
							th:text="${l.faqCate.faqCateType}"
							th:attr="data-category=${l.faqCate.faqCateType}">카테고리명</a></li>
					</th:block>
				</ul>
			</div> -->



			<div class="flex-grow-1 d-flex justify-content-center">
				<div id="board-search" style="width: 500px;">
					<form class="mb-6" action="index.html" method="post">
						<div class="input-group input-group-sm">
							<input type="text" class="form-control form-control-sm rounded-0"
								required="" placeholder="검색어를 입력해주세요." aria-label="Search....">
							<button class="btn bg-primary border-0 rounded-0" type="submit">
								<span class="text-white text-uppercase font-weight-bold">검색</span>
							</button>
						</div>
					</form>
				</div>
			</div>

			<!-- Elements Alerts -->
		<section class="pt-7 pb-9 pt-lg-9 pb-lg-10">
			<div class="container">
				<div class="row">
					<div class="col-xl-12">
						<div class="accordion" id="accordionOne">
							<!-- th:block 대신에 th:each를 사용하여 반복문 처리 -->
							<div class="card" th:each="l, idx : ${faqList}">
								<div class="card-header" th:id="'headingOne_' + ${l.faqNum}">
									<h5 class="icon-bg" data-bs-toggle="collapse"
										th:data-bs-target="'#collapseOne_' + ${l.faqNum}"
										aria-expanded="true"
										th:aria-controls="'collapseOne_' + ${l.faqNum}">
										<span
											class="text-capitalize font-weight-medium font-size-base text-dark">
											<!-- 카테고리 뱃지 --> <i
											class="badge rounded-pill bg-primary badge-cate"
											th:text="${l.faqCate.faqCateType}"></i> <!-- 제목 --> <a
											th:text="${l.faqTitle}"></a>
										</span>
									</h5>
								</div>
								<div th:id="'collapseOne_' + ${l.faqNum}" class="collapse"
									th:classappend="${(idx == 0)} ? 'show' : ''"
									th:aria-labelledby="'headingOne_' + ${l.faqNum}"
									data-bs-parent="#accordionOne">
									<div class="card-body">
										<p th:text="${l.faqContent}"></p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>



		<!-- 
	
								<div class="card">
									<div class="card-header" id="headingOne">
										<h5 class="icon-bg" data-bs-toggle="collapse"
											data-bs-target="#collapseOne" aria-expanded="true"
											aria-controls="collapseOne">
											<span class="text-capitalize font-weight-medium font-size-base text-dark">
												<i class="badge rounded-pill bg-primary">계정관리</i>회원탈퇴는 어떻게 하나요?</span>
										</h5>
									</div>
	
	 
								<div id="collapseOne" class="collapse show"
										aria-labelledby="headingOne" data-bs-parent="#accordionOne">
										<div class="card-body pt-3">
											로그인 후 내정보 > 회원탈퇴에서 회원탈퇴를 하실 수 있습니다. <br> 회원탈퇴를 하시면 포인트와
											상품은 소멸되어 재가입 하시더라도 복구되지 않으므로 유의하시기 바랍니다. <br> 한번 탈퇴하신 후에는
											해당 아이디로 재가입이 어렵습니다. <br>
										</div>
									</div>
								</div>
	
								<div class="card">
									<div class="card-header" id="headingTwo">
										<h5 class="icon-bg collapsed" data-bs-toggle="collapse"
											data-bs-target="#collapseTwo" aria-expanded="false"
											aria-controls="collapseTwo">
											<span
												class="text-capitalize font-weight-medium font-size-base text-dark"><i
												class="badge rounded-pill bg-primary">계정관리</i>아이디, 비밀번호를
												분실했어요!</span>
										</h5>
									</div>
	
									<div id="collapseTwo" class="collapse"
										aria-labelledby="headingTwo" data-bs-parent="#accordionOne">
										<div class="card-body pt-3">홈페이지 메인 로그인 화면 하단에 보이는
											[아이디/비밀번호 찾기] 버튼을 통해 가입 당시 등록하신 이름과 이메일을 입력하시면 아이디와 비밀번호를 찾으실
											수 있습니다.</div>
									</div>
	
									<div class="card">
										<div class="card-header" id="headingThree">
											<h5 class="icon-bg collapsed" data-bs-toggle="collapse"
												data-bs-target="#collapseThree" aria-expanded="false"
												aria-controls="collapseThree">
												<span
													class="text-capitalize font-weight-medium font-size-base text-dark"><i
													class="badge rounded-pill bg-primary">이용문의</i>문의하는 방법을 알려주세요</span>
											</h5>
										</div>
	
										<div id="collapseThree" class="collapse"
											aria-labelledby="headingThree" data-bs-parent="#accordionOne">
											<div class="card-body pt-3">1:1문의로 ...</div>
										</div>
									</div>
	
									<div class="card mb-0">
										<div class="card-header" id="headingFour">
											<h5 class="icon-bg collapsed" data-bs-toggle="collapse"
												data-bs-target="#collapseFour" aria-expanded="false"
												aria-controls="collapseFour">
												<span
													class="text-capitalize font-weight-medium font-size-base text-dark"><i
													class="badge rounded-pill bg-primary">결제 / 환불</i>구매를 취소하고
													싶어요</span>
											</h5>
										</div>
	
										<div id="collapseFour" class="collapse"
											aria-labelledby="headingFour" data-bs-parent="#accordionOne">
											<div class="card-body pt-3">아래의 페이지 ...</div>
										</div>
										
										-->



			<!-- 페이징 -->
			<section class="pt-5 pt-md-7">
				<div class="container" style="margin-bottom: 50px">
					<nav aria-label="Page navigation">
						<ul class="pagination justify-content-center align-items-center">
							<li class="page-item"><a class="page-link"
								href="javascript:void(0)" tabindex="-1"> <i
									aria-hidden="true"></i> ◀ 이전
							</a></li>

							<li class="page-item"><a class="page-link active"
								href="javascript:void(0)">1</a></li>

							<li class="page-item"><a class="page-link"
								href="javascript:void(0)">2</a></li>

							<li class="page-item"><a class="page-link"
								href="javascript:void(0)">3</a></li>

							<li class="page-item"><a class="page-link"
								href="javascript:void(0)">4</a></li>

							<li class="page-item"><a class="page-link"
								href="javascript:void(0)">5</a></li>

							<li class="page-item"><a class="page-link"
								href="javascript:void(0)">다음 ▶ <i aria-hidden="true"></i>
							</a></li>
						</ul>
					</nav>
				</div>
			</section>
		</div></th:block>


	<th:block layout:fragment="customJsFIle"></th:block>

	<th:block layout:fragment="customJs">
		<script>


	  
	  
	  
	       document.addEventListener("DOMContentLoaded", function() {
	            // 검색 버튼 요소 가져오기
	            const searchBtn = document.querySelector('#board-search button[type="submit"]');

	            // 검색 버튼 클릭 시
	            searchBtn.addEventListener('click', function(event) {
	                event.preventDefault(); // 기본 동작 방지 (페이지 새로고침 방지)
	                performSearch();
	            });

	            // 검색어 입력 필드에서 Enter 키 눌렀을 때
	            document.querySelector('#board-search input[type="text"]').addEventListener('keyup', function(event) {
	                if (event.keyCode === 13) { // Enter 키 눌렀을 때
	                    performSearch();
	                }
	            });

	            // 검색 기능을 수행하는 함수
	            function performSearch() {
	                const searchValue = document.querySelector('#board-search input[type="text"]').value.trim().toLowerCase(); // 검색어를 소문자로 변환하여 저장
	                const rows = document.querySelectorAll('tbody tr'); // 테이블의 모든 행 가져오기
	                let found = false; // 검색 결과 여부 초기화

	                rows.forEach(row => {
	                    const title = row.querySelector('td:nth-child(2)').textContent.replace(/\s+/g, '').toLowerCase(); // 각 행의 제목에서 공백을 제거하고 소문자로 변환하여 저장
	                    const searchValueWithoutSpaces = searchValue.replace(/\s+/g, ''); // 검색어에서 공백을 제거한 후 소문자로 변환하여 저장
	                    
	                    if (title.includes(searchValueWithoutSpaces)) { // 검색어가 제목에 포함되어 있다면 해당 행을 보이게 함
	                        row.style.display = '';
	                        found = true; // 검색 결과가 있음을 표시
	                    } else { // 검색어가 제목에 포함되어 있지 않다면 해당 행을 숨김
	                        row.style.display = 'none';
	                    }
	                });

	                // 검색 결과가 없을 경우 메시지 출력
	                if (!found) {
	                    document.querySelector('#no-results').style.display = 'block';
	                } else {
	                    document.querySelector('#no-results').style.display = 'none';
	                }
	            }
	        });
	       
	       

	       
	       // 드롭다운 메뉴 선택 시 해당하는 공지사항만 보이게 하는 함수
	        function filterNotices(category) {
	            const tbody = document.querySelector('tbody');
	            const rows = tbody.querySelectorAll('tr');

	            rows.forEach(row => {
	                const categoryBadge = row.querySelector('.badge-cate'); // 각 행의 게시물 카테고리 뱃지
	                const categoryText = categoryBadge.textContent; // 뱃지에 표시된 카테고리 텍스트
	                const display = category === '전체' || categoryText === category ? '' : 'none'; // 선택된 카테고리와 일치하는 행이면 보이게 함, 아니면 숨김

	                row.style.display = display;
	            });
	        }

	        // 페이지 로드 시 실행되는 함수
	        document.addEventListener("DOMContentLoaded", function() {
	            const dropdownItems = document.querySelectorAll('.dropdown-item');

	            dropdownItems.forEach(item => {
	                item.addEventListener('click', function() {
	                    const selectedCategory = this.textContent.trim(); // 선택된 드롭다운 메뉴의 텍스트

	                    // 선택된 카테고리에 해당하는 게시물만 보이게 함
	                    filterNotices(selectedCategory);
	                });
	            });
	        });
	     
	    
	    
	    
	
	  </script>
	
	
	</th:block>

</html>