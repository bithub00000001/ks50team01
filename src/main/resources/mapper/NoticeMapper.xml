<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ksmart.ks50team01.platform.board.mapper.PNoticeMapper">
	
	<resultMap id="noticeResultMap" type="PNotice">
		<id property="noticeNum" column="NTC_NO" />
		<result property="noticeRegId" column="REG_PF_ID" />
		<result property="noticeCateNum" column="NTC_CTGRY_NO" />
		<result property="noticeTitle" column="NTC_TTL" />
		<result property="noticeContent" column="NTC_CN" />
		<result property="noticeInqCnt" column="NTC_INQ_CNT" />
		<result property="noticeMdfId" column="MDFCN_PF_ID" />
		<result property="noticeAct" column="ACT_YN" />
		<result property="noticeRegDate" column="REG_YMD" />
		<result property="noticeMdfDate" column="MDFCN_YMD" />
	</resultMap>

	<select id="getNoticeList" resultMap="noticeResultMap">
	 	/* 공지사항 조회 */
		SELECT
            NTC_NO,
            REG_PF_ID,
            NTC_CTGRY_NO,
            NTC_TTL,
            NTC_CN,
            NTC_INQ_CNT,
            MDFCN_PF_ID,
            ACT_YN, 
            REG_YMD,
            MDFCN_YMD
		FROM 
			NOTICE;
	</select>



    <update id="updateNotice" parameterType="PNotice">
        /* 공지사항 업데이트 */
        UPDATE NOTICE
        SET
            NTC_CTGRY_NO = #{noticeCateNum},
            NTC_TTL = #{noticeTitle},
            NTC_CN = #{noticeContent},
            ACT_YN = #{noticeAct},
            MDFCN_YMD = NOW()
        WHERE
            REG_PF_ID = #{noticeRegId};
    </update>

    <delete id="delNotice" parameterType="map">
        /* 공지사항 삭제 */
        DELETE 
        FROM 
            NOTICE
        WHERE 
            NTC_NO = #{noticeNum};
    </delete>

    
	
</mapper>