<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="ksmart.ks50team01.platform.reivew.mapper.PReviewMapper">
 	<resultMap type="PReview" id="PReviewResultMap">
 		<id property="reviewCode" 			column="PRCHS_REV_CD"/>
 		<result property="reviewCode" 		column="PRCHS_REV_CD"/>
 		<result property="reviewId" 		column="REG_MBR_ID"/>
 		<result property="reviewGoods" 		column="RAT_CTGRY_NO"/>
 		<result property="reviewStar" 		column="PRCHS_REV_CD"/>
 		<result property="reviewContent" 	column="PRCHS_REV_CN"/>
 		<result property="reviewDate" 		column="REG_YMD"/>
 		<result property="reviewLike" 		column="LIKE_TOTAL"/>
 		<result property="reviewDislike" 	column="DISLIKE_TOTAL"/>
 		<result property="reviewApprove" 	column="RLS_YN_CD"/>
 	</resultMap>
 	
 	<resultMap type="PReviewReport" id="PReviewReportResultMap">
 		<id property="reportNum" column="REV_REPT_NO"/>
 		<result property="reportNum" column="REV_REPT_NO"/>
 		<result property="reportId" column="REG_MBR_ID"/>
 		<result property="reportCategories" column="REPT_CTGRY_NO"/>
 		<result property="reportReviewCode" column="PRCHS_REV_CD"/>
 		<result property="reportContent" column="REV_REPT_CN"/>
 		<result property="reportDate" column="REPT_YMD"/>
 		<result property="reportApprove" column="REV_REPT_APRV"/>
 		<result property="reportApproveId" column="APRV_PF_ID"/>
 		<result property="reportApproveDate" column="APRV_YMD"/>
 	</resultMap>
 
	 <select id="getPReviewList" resultMap="PReviewResultMap">
	  /* 상품 리뷰 목록 리스트 */
	 	SELECT 
			PRCHS_REV_CD, 
			REG_MBR_ID, 
			RLS_YN_CD, 
			RAT_CTGRY_NO, 
			PRTNR_BPLC_CD, 
			PRCHS_REV_CN, 
			LIKE_TOTAL, 
			DISLIKE_TOTAL,
			REG_YMD
		FROM 
			PURCHASE_REVIEW
	 </select>
	 
	 <select id="getPReviewReport" resultMap="PReviewReportResultMap">
	 	/* 상품 리뷰 목록 리스트 */
	 	SELECT 
			REV_REPT_NO,
			REG_MBR_ID,  
			REPT_CTGRY_NO, 
			PRCHS_REV_CD, 
			REV_REPT_CN,
			REPT_YMD,
			REV_REPT_APRV, 
			APRV_PF_ID,
			APRV_YMD
		FROM 
			REVIEW_REPORT_HISTORY
	 </select>
 </mapper>